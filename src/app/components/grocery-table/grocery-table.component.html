<div class="grocery-table-container">
  <!-- Filter Controls -->
  <div class="filter-controls">
    <div class="filter-row">
      <div class="search-control">
        <input
          pInputText
          type="text"
          [(ngModel)]="searchTerm"
          (input)="applyFilters()"
          placeholder="Search groceries..."
          class="search-input" />
        <i class="pi pi-search search-icon"></i>
      </div>

      <p-select
        [options]="typeOptions"
        [(ngModel)]="selectedType"
        (onChange)="applyFilters()"
        placeholder="All Types"
        [showClear]="true"
        class="filter-dropdown">
      </p-select>

      <button
        pButton
        type="button"
        label="Clear Filters"
        (click)="clearAllFilters()"
        icon="pi pi-filter-slash"
        severity="secondary"
        size="small"
        class="clear-btn">
      </button>
    </div>
  </div>

  <!-- Grocery Table -->
  <p-table
    [value]="filteredGroceries"
    [scrollable]="true"
    scrollHeight="400px"
    responsiveLayout="scroll">
    <ng-template pTemplate="header">
      <tr>
        <th class="grocery-name-col">Name</th>
        <th class="grocery-type-col">Type</th>
        <th class="actions-col">Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-grocery>
      <tr [class.selected-grocery]="isGrocerySelected(grocery)">
        <td class="grocery-name-cell">{{ grocery.name }}</td>
        <td class="grocery-type-cell">{{ grocery.type }}</td>
        <td class="actions-cell">
          <button
            pButton
            type="button"
            (click)="onGrocerySelect(grocery); $event.stopPropagation()"
            size="small"
            severity="success"
            class="action-btn add-btn"
            [disabled]="isGrocerySelected(grocery)">
            <i class="pi pi-plus"></i> Add
          </button>
          <button
            pButton
            type="button"
            (click)="onDeleteGrocery(grocery); $event.stopPropagation()"
            size="small"
            severity="danger"
            class="action-btn delete-btn"
            [disabled]="isGrocerySelected(grocery)">
            <i class="pi pi-trash"></i> Delete
          </button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
